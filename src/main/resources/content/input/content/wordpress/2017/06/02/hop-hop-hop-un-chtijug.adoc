:jbake-type: post
:jbake-status: published
:jbake-title: Hop, hop, hop, un chtijug !
:jbake-tags: java,_mois_juin,_année_2017
:jbake-date: 2017-06-02
:jbake-depth: ../../../../
:jbake-uri: wordpress/2017/06/02/hop-hop-hop-un-chtijug.adoc
:jbake-excerpt: 
:jbake-source: https://riduidel.wordpress.com/2017/06/02/hop-hop-hop-un-chtijug/
:jbake-style: wordpress

++++
<p>
<div id="preamble">
<br/>
<div class="sectionbody">
<br/>
<div class="paragraph data-line-3">
</p>
<p>
Un nouveau site (les terrains de Décathlon), pour deux présentations …​ au chaud !
</p>
<p>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<div class="sect1 data-line-5">
<br/>
<h2 id="truedix_m_thodes_pour_garder_les_d_veloppeurs">Dix méthodes pour garder les développeurs</h2>
<br/>
<div class="sectionbody">
<br/>
<div class="paragraph data-line-7">
</p>
<p>
J’ai vu les slides de cette présentation, j’en ai donc une idée assez précise (malheureusement, je n’arrive pas à les retrouver dans la timeline de Cyril …​).
</p>
<p>
</div>
<br/>
<div class="paragraph data-line-9">
</p>
<p>
Les 3/4 des développeurs sont plus on moins à la recherche d’un nouvel emploi.
</p>
<p>
</div>
<br/>
<div class="sect2 data-line-11">
<br/>
<h3 id="truebien_recruter">Bien recruter</h3>
<br/>
<div class="paragraph data-line-13">
</p>
<p>
D’abord, il faut s’arranger pour que le recrutement se passe bien, avec un peu de transparence : vision, cadre, salaire, code, soft skills (beuark, quelle frangliche dilbertien), tout ça doit être présenté.
</p>
<p>
</div>
<br/>
<div class="paragraph data-line-15">
</p>
<p>
En bonus, il y a certaines pratiques à éviter :
</p>
<p>
</div>
<br/>
<div class="ulist data-line-17">
<br/>
<ul>
<br/>
<li>L’offre d’emploi impossible</li>
<br/>
<li>Le code sur tableau blanc, remplacé par exemple par Codingame (mais ça n’est pas encore le vrai environnement …​)</li>
<br/>
</ul>
<br/>
</div>
<br/>
<div class="paragraph data-line-20">
</p>
<p>
Et d’autres à favoriser
<br/>
<ul>
<br/>
<li>Code review</li>
<br/>
<li>Pair programming (eh, mais c’est ce que j’ai fait avec Youssef !)</li>
<br/>
</ul>
<br/>
</div>
<br/>
</div>
<br/>
<div class="sect2 data-line-24">
<br/>
<h3 id="trueproposer_une_carri_re">Proposer une carrière</h3>
<br/>
<div class="paragraph data-line-26">
</p>
<p>
Oui, alors ça, bon, je connais. Et franchement, les développeurs non motivés, au bout de 3 ans, ils sont devenus chefs de projet.
</p>
<p>
</div>
<br/>
<div class="paragraph data-line-28">
</p>
<p>
Quant au graphique produit par N. Martignole sur la carrière d’un déveeloppeur, il est adapté à la vision moderne de l’informatique. Expert au bout de 5 ans, c’est vraiment de la blague.
</p>
<p>
</div>
<br/>
</div>
<br/>
<div class="sect2 data-line-30">
<br/>
<h3 id="truetravailler_sur_l_environnement">Travailler sur l’environnement</h3>
<br/>
<div class="paragraph data-line-32">
</p>
<p>
Avant tout, arrêter l’open-space. Et c’est vrai que mes expériences récentes, dans des bureaux de moins de 15 personnes, m’ont réconcilié avec les gens : quelqu’un qui vient me voir vient réellement me voir, et ça change tout, à la fois en qualité de communication et en amour-propre.
</p>
<p>
</div>
<br/>
<div class="paragraph data-line-34">
</p>
<p>
En parallèle, avoir des machines de qualité, et avec de bons écrans, c’est évidement bénéfique. Et de la même manière, avoir de bons logiciels, ça ne coûte pas bien cher par rapport à la valeur ajoutée.
</p>
<p>
</div>
<br/>
<div class="paragraph data-line-37">
</p>
<p>
Hey, mais ils citent <a href="http://french.joelonsoftware.com/Articles/TheJoelTest.html">le test de Joël</a> ! Cool. Bon, en fait, je suis sûr que ce test reprend tout le contenu de cette présentation, mais je ne vais pas râler.
</p>
<p>
</div>
<br/>
</div>
<br/>
<div class="sect2 data-line-39">
<br/>
<h3 id="trueorganiser_son_travail">Organiser son travail</h3>
<br/>
<div class="paragraph data-line-41">
</p>
<p>
Mettre en place des features teams, ça peut être bien. Ou les pizzas teams. En tout cas éviter les équipes façon galère de 50 personnes.
</p>
<p>
</div>
<br/>
</div>
<br/>
<div class="sect2 data-line-43">
<br/>
<h3 id="truesoftware_craftmanship">Software craftmanship</h3>
<br/>
<div class="paragraph data-line-45">
</p>
<p>
Bon, je vous encourage à relire <a href="http://manifesto.softwarecraftsmanship.org/#/en">le manifeste</a> …​
</p>
<p>
</div>
<br/>
<div class="paragraph data-line-47">
</p>
<p>
Du coup, pour ça, il faut avant tout vouloir s’améliorer. En passant, pour vouloir s’améliorer, il faut avoir un sens du temps long …​ Autrement dit, envisager sa vie professionnelle sur plus de deux ans …​ voire plus de dix.
</p>
<p>
</div>
<br/>
</div>
<br/>
<div class="sect2 data-line-49">
<br/>
<h3 id="truetech_radar">Tech radar</h3>
<br/>
<div class="paragraph data-line-51">
</p>
<p>
Bon, là, j' avoue, j’ai soupiré. Mettre en place un tech radar, ça a un côté tellement poussiéreux, tellement pénible. J’ai vraiment du mal à voir en quoi ça peut présenter un intérêt, parce que ça met en place des comités théodule internes. Je comprend le besoin d’urbanisme, mais franchement, j’ai l’impression que c’est la très mauvaise méthode pour suivre l'évolution technologique.
</p>
<p>
</div>
<br/>
</div>
<br/>
<div class="sect2 data-line-53">
<br/>
<h3 id="truene_pas_se_mentir">Ne pas se mentir</h3>
<br/>
<div class="paragraph data-line-55">
</p>
<p>
Dire qu’on est cool, avec des consoles, du café gratuit, des nerfs (eh, mais on a tout ça, et en plus une Wii U), ça ne vaut pas le travail intéressant (mais on a aussi ça, ça va).
</p>
<p>
</div>
<br/>
<div class="paragraph data-line-57">
</p>
<p>
Autrement dit, il ne faut pas remplacer le sens de l’entreprise par tout un tas de bonu qui, eux, ne font pas sens. Cela dit, c’est raccord avec le premier point : lorsqu’on recrute un développeur, on l’intègre au sens de l’entreprise, à ses valeurs.
</p>
<p>
</div>
<br/>
</div>
<br/>
<div class="sect2 data-line-59">
<br/>
<h3 id="trues_organiser_en_communaut_s">S’organiser en communautés</h3>
<br/>
<div class="paragraph data-line-61">
</p>
<p>
Alors théoriquement, c’est censé permettre de la transversalité, encore faut-il que les communautés soient vivantes. Et pour ça, il leur faut des moyens matériels : du temps, de l’espace, des outils de collaboration.
</p>
<p>
</div>
<br/>
<div class="paragraph data-line-63">
</p>
<p>
Malheureusement, dans le seul contexte où j’ai vu des gens essayer, ça n’a rien apporté.
</p>
<p>
</div>
<br/>
</div>
<br/>
<div class="sect2 data-line-65">
<br/>
<h3 id="truecontribuer_l_open_source">Contribuer à l’open-source</h3>
<br/>
<div class="paragraph data-line-67">
</p>
<p>
Bon, alors là, ça tombe bien, parce que ce matin, un collègue a lancé un recensement des participations de l’entreprise à l’open-source. Et ce soir, il y a déja 60 contributions recensées ! Evidement, parfois, c’est difficile, parce que la sécurfité, tout ça. Dans ces cas-là, monter un Gitlab est une très chouette idée.
</p>
<p>
</div>
<br/>
</div>
<br/>
<div class="sect2 data-line-70">
<br/>
<h3 id="trueparticiper_aux_v_nements">Participer aux événements</h3>
<br/>
<div class="paragraph data-line-72">
</p>
<p>
brown bag lunch, conférences, jugs (ou meetups, ça dépend comment vous voulez appeler ça), tout ça, c’est assez plaisant effectivement. Et puis ça permet à des speakers débutants de prendre l’habitude de parler en public.
</p>
<p>
</div>
<br/>
</div>
<br/>
<div class="sect2 data-line-75">
<br/>
<h3 id="trueconclusion">Conclusion</h3>
<br/>
<div class="paragraph data-line-76">
</p>
<p>
Je crois que le message est bon. Mais je crois aussi que le public n’est pas le bon : faire cette conf à l’USI, ou dans un truc de décideurs, bien sûr. Mais je ne suis pas sûr de l’intérêt pour les développeurs.
</p>
<p>
</div>
<br/>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<div class='twitter'>
<br/>
<span class="twitter_status">
</p>
<p>
<span class="author">
</p>
<p>
<a href="http://twitter.com/clementplop" class="screenName"><img src="http://pbs.twimg.com/profile_images/1059135799147540480/AXaLqunC_mini.jpg" alt="profile of Doing reactive stuff @ Red hat. Java Champion. #quarkus #vertx #microprofile #smallrye. Opinions are mine not of my employer."/>clementplop</a>
<br/>
<span class="name">Clement Escoffier</span>
</p>
<p>
</span>
</p>
<p>
<a href="https://twitter.com/clementplop/status/870 330 696 690 225 155" class="date">1 juin 2017 à 19:26:22</a>
</p>
<p>
<span class="content">
</p>
<p>
<span class="text">Almost ready for my @chtijug  #slideless talk about @vertx_project and @openshift talk #reactive #microservice https://t.co/K8ct4fsxRA</span>
</p>
<p>
<span class="medias">
<br/>
<span class="media media-photo">
<br/>
<img src="http://pbs.twimg.com/media/DBQJJaSXsAAcUt6.jpg" alt="870 330 685 269 192 704"/>
<br/>
</span>
<br/>
</span>
</p>
<p>
</span>
</p>
<p>
<span class="twitter_status_end"/>
<br/>
</span>
<br/>
</div>
<br/>
<div class="sect1 data-line-78">
<br/>
<h2 id="truevert_x_et_kubernetes">Vert.x et Kubernetes</h2>
<br/>
<div class="sectionbody">
<br/>
<div class="paragraph data-line-79">
</p>
<p>
Eh, mais c’est Clément Escoffier ! Sans vouloir dire de mal de Cyril et Romain, j'étais surtout venu voir Vert.x et des conteneurs, et je n'ai pas été déçu. Donc Clément va développer des microservices <a href="http://vertx.io/">Vert.x</a> et les déployer dans un cloud …​ local (parce que le wifi ne semble pas très bien marcher). Le tout sans aucun slide.
</p>
<p>
Et il va packager son application avec le <a href="https://vmp.fabric8.io/">vert.x-maven-plugin</a> pour générer des fat-jars. Ca n’est pas indispensable, mais c’est plus facile. Et ça permet à Clément de montrer un peu de maven-fu (parce qu'honnêtement, il en a sacrément, du maven-fu).
</p>
<p>
Donc en Java, un vert.x, c’est une sous-classe de AbstractVerticle …​ mais ça marche aussi dans la plupart des langages supportés par la JVM (Scala, Groovy, Ruby, Clojure sans doute, …​). Et dans une application Vert.x, pour chaque requête, on appelle la méthode de réponse …​ dans le même thread. Et c’est cool, parce qu’il n’y a pas de context switch.
</p>
<p>
Mais d’un autre côté, il ne faut pas bloquer ce thread. Sinon c’est la merde.
</p>
<p>
Pour continuer à développer, avec <a href="http://vertx.io/docs/vertx-web/java/">vertx-web</a>, on peut créer un routeur, et assigner à chaque route une méthode correspondante. Ensuite, Clément nous implémente le serveur tranquillement, avec un mode d'écriture qui m’a beaucoup amusé, et qui est à mon avis la marque des développeurs expérimentés.Par contre, IntelliJ IDEA qui s’amuse à mettre le nom du paramètre en gris devant la valeur, ça me trouble un peu, même si je dois bien reconnaitre que c’est une sacrément bonne idée.
</p>
<p>
Et maintenant, comment déployer ça sur le cloud ? Et en particulier Kubernetes ? Et en particulier OpenShift ? Donc <a href="https://kubernetes.io/">Kubernetes</a>, ça permet de gérer facilement des gros paquets de conteneurs (logs, sécurité, volumes, …​). Et avec <a href="https://www.openshift.com/">OpenShift</a>, on a une interface, et c’est cool. Et en bonus, on a du build automatisé, ce qui est encore plus pratique. Et avec tout ça, en tant que dév, Clément va pousser son code, qui sera buildé et déployé par OpenShift, et les requêtes seront exécutées dessus.
</p>
<p>
Et quand ça marche, ça fournit des trucs assez spectaculaires, comme par exemple du déploiement avec rolling updates ! Ou par exemple le déploiement de nouveaux pods avec un simple click. Du coup, comment partager les données ? Avec <a href="https://redis.io/">Redis</a>, par exemple. Et évidement, il faut du service discovery …​ qui est vraiment très facile à implémenter avec vertx.
</p>
<p>
Et maintenant, depuis notre service, on va en appeler un autre …​ en parallèle …​ à travers <a href="https://github.com/ReactiveX/RxJava">RxJava </a>! Et d’un coup, l’une des propriétés intéressantes de http prend tout son sens : comme c’est un protocole chunked, il n’est pas éncessaire de calculer toute la réponse avant de l’envoyer. Du coup, la mémoire est moins utilisée, l’application coûte moins cher. Et en bonus, le garbage collector n’a pas besoin d’arrêter l’application pour passer. Et ça, c’est vraiment beaucoup plus efficace.
</p>
<p>
</div>
<br/>
<div class="paragraph data-line-108">
</p>
<p>
Et c’est le petit moment gênant où la démo s’enraye…​ Mais elle revient sur les rails assez rapidement.
</p>
<p>
</div>
<br/>
<div class="paragraph data-line-110">
</p>
<p>
Et maintenant, Clément ajoute des circuit breakers, au cas où le pricer soit un peu trop lent. Et là aussi, comme on fait du vertx, il faut un circuit breaker qui n’utilise pas de threads (donc pas hystrix, par exemple).
</p>
<p>
</div>
<br/>
<div class="paragraph data-line-113">
</p>
<p>
Et pour finir la démo, Clément pousse le code sur GitHub en live !
</p>
<p>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<div class='twitter'>
<br/>
<span class="twitter_status">
</p>
<p>
<span class="author">
</p>
<p>
<a href="http://twitter.com/clementplop" class="screenName"><img src="http://pbs.twimg.com/profile_images/1059135799147540480/AXaLqunC_mini.jpg" alt="profile of Doing reactive stuff @ Red hat. Java Champion. #quarkus #vertx #microprofile #smallrye. Opinions are mine not of my employer."/>clementplop</a>
<br/>
<span class="name">Clement Escoffier</span>
</p>
<p>
</span>
</p>
<p>
<a href="https://twitter.com/clementplop/status/870 514 778 891 968 515" class="date">2 juin 2017 à 07:37:51</a>
</p>
<p>
<span class="content">
</p>
<p>
<span class="text">@chtijug Voici le code présenté hier: https://t.co/bzyBbmNO6P @vertx_project #reactive @openshift</span>
</p>
<p>
<span class="medias">
<br/>
</span>
</p>
<p>
</span>
</p>
<p>
<span class="twitter_status_end"/>
<br/>
</span>
<br/>
</div>
<br/>
<h3>Conclusion</h3>
<br/>
Le talk est à la fois parfaitement spectaculaire dans la forme et vraiment intéressant dans le fond : Vertx permet de développer très facilement des services HTTP (oui, on peut faire autre chose, mais à quoi bon ?), et l'intégration avec OpenShift était aussi poussée que propre.
</p>
++++